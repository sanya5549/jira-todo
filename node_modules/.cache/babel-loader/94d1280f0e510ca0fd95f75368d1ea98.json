{"ast":null,"code":"import _toConsumableArray from \"/home/sanya/Documents/intern/jira-todo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/home/sanya/Documents/intern/jira-todo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _ from 'lodash';\nimport { ADD_NEW_CARD, REMOVE_CARD, EDIT_CARD } from './config/constants';\nvar initialState = {\n  all: [],\n  todo: [],\n  inProgress: [],\n  done: []\n};\n\nvar rootReducer = function rootReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  // if there is no action, return the initial state of the card //\n  if (state === null || state === undefined) return _objectSpread({}, initialState); // checking for the type of action chosen by the user. The user can perform three types of actions i.e add a //\n\n  switch (action.type) {\n    // add a new card, edit the previous card and delete the card//                \n    case ADD_NEW_CARD:\n      {\n        var card = action.payload;\n        return _objectSpread({}, state, {\n          all: [].concat(_toConsumableArray(state.all), [card])\n        });\n      }\n\n    /* remove the card present in either of the four columns and restore the rest of the cards*/\n\n    case REMOVE_CARD:\n      {\n        var id = action.payload;\n\n        var all = _.filter(state.all, function (o) {\n          return o.id !== id;\n        });\n\n        var todo = _.filter(state.todo, function (o) {\n          return o.id !== id;\n        });\n\n        var inProgress = _.filter(state.inProgress, function (o) {\n          return o.id !== id;\n        });\n\n        var done = _.filter(state.done, function (o) {\n          return o.id !== id;\n        });\n\n        console.log(id, all);\n        return {\n          all: all,\n          todo: todo,\n          inProgress: inProgress,\n          done: done\n        };\n      }\n\n    case EDIT_CARD:\n      {\n        var _card = action.payload;\n        var idx = state.all.findIndex(function (o) {\n          return o.id === _card.id;\n        }); // if the card is not present in all check in next grid and so on//\n\n        if (idx === -1) {\n          idx = state.inProgress.findIndex(function (o) {\n            return o.id === _card.id;\n          }); //if the card is not present in inProgress\n\n          if (idx === -1) {\n            idx = state.todo.findIndex(function (o) {\n              return o.id === _card.id;\n            }); //if the card is not present in todo part\n\n            if (idx === -1) {\n              idx = state.done.findIndex(function (o) {\n                return o.id === _card.id;\n              }); //if the card is also not present in done part\n\n              if (idx === -1) {\n                //card not present anywhere...return the same state\n                return _objectSpread({}, state);\n              } //card present in done...replace the old card in done and return the new done list\n\n\n              state.done[idx] = _objectSpread({}, _card);\n              return _objectSpread({}, state, {\n                done: _toConsumableArray(state.done)\n              });\n            } //card presetn in todo...replace the old card in todo and return the new todo list\n\n\n            state.todo[idx] = _objectSpread({}, _card);\n            return _objectSpread({}, state, {\n              todo: _toConsumableArray(state.todo)\n            });\n          } //card present in inProgress..replace the old card in inProgress and return the inProgress list.\n\n\n          state.inProgress[idx] = _objectSpread({}, _card);\n          return _objectSpread({}, state, {\n            inProgress: _toConsumableArray(state.inProgress)\n          });\n        } //card present in all...replace the old card in all and return the all list.\n\n\n        state.all[idx] = _objectSpread({}, _card);\n        return _objectSpread({}, state, {\n          all: _toConsumableArray(state.all)\n        });\n      }\n\n    default:\n      return _objectSpread({}, state);\n  }\n};\n\nexport default rootReducer;","map":{"version":3,"sources":["/home/sanya/Documents/intern/jira-todo/src/reducers.js"],"names":["_","ADD_NEW_CARD","REMOVE_CARD","EDIT_CARD","initialState","all","todo","inProgress","done","rootReducer","state","action","undefined","type","card","payload","id","filter","o","console","log","idx","findIndex"],"mappings":"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","sourcesContent":["import _ from 'lodash'\nimport {ADD_NEW_CARD, REMOVE_CARD, EDIT_CARD} from './config/constants';\n\n\nconst initialState = {\n    all: [],\n    todo: [],\n    inProgress: [],\n    done: []\n}\n\nconst rootReducer = (state=initialState, action) => {\n     // if there is no action, return the initial state of the card //\n    if(state === null || state === undefined) return {...initialState}; \n\n    // checking for the type of action chosen by the user. The user can perform three types of actions i.e add a //\n    switch(action.type) {      \n        // add a new card, edit the previous card and delete the card//                \n        case ADD_NEW_CARD: {\n            const card = action.payload;\n            return {\n                ...state,\n                all: [...state.all, card]\n            }\n        }\n\n        /* remove the card present in either of the four columns and restore the rest of the cards*/\n        case REMOVE_CARD: {                                                  \n            const id = action.payload                                        \n            const all = _.filter(state.all, o => o.id !== id)\n            const todo = _.filter(state.todo, o => o.id !== id)\n            const inProgress = _.filter(state.inProgress, o => o.id !== id)\n            const done = _.filter(state.done, o => o.id !== id)\n            console.log(id, all)    \n            return {\n                all, todo, inProgress, done\n            }\n        }\n\n    \n\n        case EDIT_CARD: {\n            const card = action.payload\n            let idx =  state.all.findIndex(o => o.id === card.id)\n            // if the card is not present in all check in next grid and so on//\n            if (idx === -1) {                       \n                idx = state.inProgress.findIndex(o => o.id === card.id)\n                //if the card is not present in inProgress\n                if(idx === -1) {\n                    idx = state.todo.findIndex(o => o.id === card.id)\n                    //if the card is not present in todo part\n                    if(idx === -1) {\n                        idx = state.done.findIndex(o => o.id === card.id)\n                        //if the card is also not present in done part\n                        if(idx === -1) {\n                            //card not present anywhere...return the same state\n                            return {...state}\n                        }\n                        //card present in done...replace the old card in done and return the new done list\n                        state.done[idx] = {...card};  \n                        \n                        return {                     \n                            ...state,\n                            done: [...state.done]  \n                        }\n                    }\n                    //card presetn in todo...replace the old card in todo and return the new todo list\n                    state.todo[idx] = {...card};\n                    return {\n                        ...state,\n                        todo: [...state.todo]\n                    }\n                }\n                //card present in inProgress..replace the old card in inProgress and return the inProgress list.\n                state.inProgress[idx] = {...card}\n                return {\n                    ...state,\n                    inProgress: [...state.inProgress]\n                }\n            }\n            //card present in all...replace the old card in all and return the all list.\n            state.all[idx] = {...card}\n            return {\n                ...state,\n                all: [...state.all]\n            }\n        }\n\n        default: return {...state};\n    }\n}\n\nexport default rootReducer\n"]},"metadata":{},"sourceType":"module"}