{"ast":null,"code":"import _toConsumableArray from \"/home/sanya/Documents/intern/jira-todo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/home/sanya/Documents/intern/jira-todo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _ from 'lodash';\nimport { ADD_NEW_CARD, REMOVE_CARD, EDIT_CARD } from './config/constants';\nvar initialState = {\n  all: [],\n  todo: [],\n  inProgress: [],\n  done: []\n};\n\nvar rootReducer = function rootReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  if (state === null || state === undefined) return _objectSpread({}, initialState);\n\n  switch (action.type) {\n    case ADD_NEW_CARD:\n      {\n        var card = action.payload;\n        return _objectSpread({}, state, {\n          all: [].concat(_toConsumableArray(state.all), [card])\n        });\n      }\n\n    case REMOVE_CARD:\n      {\n        var id = action.payload;\n\n        var all = _.filter(state.all, function (o) {\n          return o.id !== id;\n        });\n\n        var todo = _.filter(state.todo, function (o) {\n          return o.id !== id;\n        });\n\n        var inProgress = _.filter(state.inProgress, function (o) {\n          return o.id !== id;\n        });\n\n        var done = _.filter(state.done, function (o) {\n          return o.id !== id;\n        });\n\n        console.log(id, all);\n        return {\n          all: all,\n          todo: todo,\n          inProgress: inProgress,\n          done: done\n        };\n      }\n    // write a case for editing a card here\n    // my code ===============================================================================================================\n\n    case EDIT_CARD:\n      {\n        var _card = action.payload;\n        var idx = state.all.findIndex(function (o) {\n          return o.id === _card.id;\n        });\n\n        if (idx === -1) {\n          idx = state.inProgress.findIndex(function (o) {\n            return o.id === _card.id;\n          });\n\n          if (idx === -1) {\n            idx = state.todo.findIndex(function (o) {\n              return o.id === _card.id;\n            });\n\n            if (idx === -1) {\n              idx = state.done.findIndex(function (o) {\n                return o.id === _card.id;\n              });\n\n              if (idx === -1) {\n                return _objectSpread({}, state);\n              }\n\n              state.done[idx] = _objectSpread({}, _card);\n              return _objectSpread({}, state, {\n                done: _toConsumableArray(state.done)\n              });\n            }\n\n            state.todo[idx] = _objectSpread({}, _card);\n            return _objectSpread({}, state, {\n              todo: _toConsumableArray(state.todo)\n            });\n          }\n\n          state.inProgress[idx] = _objectSpread({}, _card);\n          return _objectSpread({}, state, {\n            inProgress: _toConsumableArray(state.inProgress)\n          });\n        }\n\n        state.all[idx] = _objectSpread({}, _card);\n        return _objectSpread({}, state, {\n          all: _toConsumableArray(state.all)\n        });\n      }\n    //my code =============================================================================================================\n\n    default:\n      return _objectSpread({}, state);\n  }\n};\n\nexport default rootReducer;","map":{"version":3,"sources":["/home/sanya/Documents/intern/jira-todo/src/reducers.js"],"names":["_","ADD_NEW_CARD","REMOVE_CARD","EDIT_CARD","initialState","all","todo","inProgress","done","rootReducer","state","action","undefined","type","card","payload","id","filter","o","console","log","idx","findIndex"],"mappings":"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","sourcesContent":["import _ from 'lodash'\nimport {ADD_NEW_CARD, REMOVE_CARD, EDIT_CARD} from './config/constants';\n\n\nconst initialState = {\n    all: [],\n    todo: [],\n    inProgress: [],\n    done: []\n}\n\nconst rootReducer = (state=initialState, action) => {\n    if(state === null || state === undefined) return {...initialState};\n\n    switch(action.type) {\n        case ADD_NEW_CARD: {\n            const card = action.payload;\n            return {\n                ...state,\n                all: [...state.all, card]\n            }\n        }\n\n        case REMOVE_CARD: {\n            const id = action.payload\n            const all = _.filter(state.all, o => o.id !== id)\n            const todo = _.filter(state.todo, o => o.id !== id)\n            const inProgress = _.filter(state.inProgress, o => o.id !== id)\n            const done = _.filter(state.done, o => o.id !== id)\n            console.log(id, all)    \n            return {\n                all, todo, inProgress, done\n            }\n        }\n\n        // write a case for editing a card here\n        // my code ===============================================================================================================\n\n        case EDIT_CARD: {\n            const card = action.payload\n            let idx =  state.all.findIndex(o => o.id === card.id)\n            if (idx === -1) {\n                idx = state.inProgress.findIndex(o => o.id === card.id)\n                if(idx === -1) {\n                    idx = state.todo.findIndex(o => o.id === card.id)\n                    if(idx === -1) {\n                        idx = state.done.findIndex(o => o.id === card.id)\n                        if(idx === -1) {\n                            return {...state}\n                        }\n                        state.done[idx] = {...card};\n                        return {\n                            ...state,\n                            done: [...state.done]\n                        }\n                    }\n                    state.todo[idx] = {...card};\n                    return {\n                        ...state,\n                        todo: [...state.todo]\n                    }\n                }\n                state.inProgress[idx] = {...card}\n                return {\n                    ...state,\n                    inProgress: [...state.inProgress]\n                }\n            }\n            state.all[idx] = {...card}\n            return {\n                ...state,\n                all: [...state.all]\n            }\n        }\n        //my code =============================================================================================================\n\n        default: return {...state};\n    }\n}\n\nexport default rootReducer\n"]},"metadata":{},"sourceType":"module"}